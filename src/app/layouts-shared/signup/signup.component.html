<div class="background">
    <div class="container">
        <div class="row">
            <div  *ngIf="!isLoading" class="col-md-6">
                <div class="card">
                    <form [formGroup]="signupForm" class="login-container box">
                        <h1>Đăng Ký</h1>
                        <p *ngIf="isSignup" [ngClass]="{ 'help-block': isSubmitted && checkInvalid }"> Vui lòng điền đầy đủ thông tin!</p>
                        <!--Nhập username và thông báo lỗi-->
                        <p [ngClass]="{ 'has-error': isSubmitted && formControls.username.errors || isUsername}">
                            <input #usernameInput type="text" placeholder="Tên đăng nhập" formControlName="username">
                        </p>
                        <!--Báo lỗi Validators-->
                        <div *ngIf="isSubmitted && formControls.username.errors" class="help-block">
                            <div *ngIf="formControls.username.errors?.pattern || 
                                    formControls.username.errors?.minlength">Username ít nhát 8 ký tự và không có kí tự đặc biệt.</div>
                        </div>
                        <!------------------------------------------------------------------------------------>
                        <div *ngIf="isSubmitted && isUsername" class="help-block">
                            <div *ngIf="isUsername">Tên đăng nhập đã được sử dụng.</div>
                        </div>
                        <!--Kết thúc input username-->
                        <!--Nhập email và thông báo lỗi-->
                        <p [ngClass]="{ 'has-error': isSubmitted && formControls.email.errors || isEmail}">
                            <input #emailInput type="email" placeholder="Email" formControlName="email">
                        </p>
                        <!--Báo lỗi Validators-->
                        <div *ngIf="isSubmitted && formControls.email.errors" class="help-block">
                            <div *ngIf="formControls.email.errors?.pattern || 
                                    formControls.email.errors?.email">Vui lòng nhập email đúng định dạng.</div>
                        </div>
                        <!------------------------------------------------------------------------------------>
                        <div *ngIf="isSubmitted && isEmail" class="help-block">
                            <div *ngIf="isEmail">Email đã được sử dụng</div>
                        </div>
                        <!--Kết thúc nhập username-->
                        <!--Nhập mật khẩu và thông báo lỗi-->
                        <p [ngClass]="{ 'has-error': isSubmitted && formControls.password.errors }">
                            <input #passwordInput type="password" placeholder="Mật khẩu" formControlName="password">
                        </p>
                        <div *ngIf="isSubmitted && formControls.password.errors" class="help-block">
                            <div *ngIf="formControls.password.errors?.minlength">Mật khẩu ít nhất 8 ký tự.</div>
                        </div>
                        <!------------------------------------------------------------------------------------>
                        <div *ngIf="isSubmitted && formControls.password.errors" class="help-block">
                            <div *ngIf="formControls.password.errors.required">Vui lòng nhập mật khẩu</div>
                        </div>
                        <!--Kết thúc-->
                        <!--Nhập lại mật khẩu và thông báo lỗi-->
                        <p [ngClass]="{ 'has-error': isSubmitted && formControls.enterpassword.errors }">
                            <input #enterpasswordInput type="password" placeholder="Nhập lại mật khẩu" formControlName="enterpassword">
                        </p>
                        <!--Thông báo lỗi mật khẩu nhập lại không chính xác-->
                        <div *ngIf="isSubmitted && checkPass" class="help-block">
                            <div *ngIf="checkPass">Vui lòng nhập lại đúng mật khẩu.</div>
                        </div>
                        <!------------------------------------------------------------------------------------------->
                        <div *ngIf="isSubmitted && formControls.enterpassword.errors" class="help-block">
                            <div *ngIf="formControls.enterpassword.errors.required">Vui lòng nhập lại mật khẩu</div>
                        </div>
                        <!--Kết thúc-->
                        <div class="row col-md-12 remove-margin">
                            <input type="submit" name="" value="Đăng ký"
                                (click)="onSignupButtonClicked(usernameInput.value,emailInput.value ,passwordInput.value, enterpasswordInput.value)">
                            <input type="submit" name="" value="Quay lại" routerLink="/login">
                        </div>
                        <div class="col-md-12">
                            <ul class="social-network social-circle">
                                <li><a href="#" class="icoFacebook" title="Facebook"><i
                                            class="fa fa-facebook-f"></i></a>
                                </li>
                                <li><a onclick="checkLoginState()" class="icoTwitter" title="Twitter"><i class="fa fa-twitter"></i></a>
                                </li>
                                <li><a href="#" class="icoGoogle" title="Google +"><i class="fa fa-google-plus"></i></a>
                                </li>
                            </ul>
                        </div>
                    </form>
                </div>
            </div>
            <div *ngIf="isLoading" class="row col-md-6" id="loading">
                <img id="loading-image" src="assets/gif/Spinner-1.2s-323px.gif" alt="Loading..." />
            </div>
        </div>
    </div>
</div>